!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).Pristine=r()}(this,function(){"use strict";var e={en:{required:"*Este campo es obligatorio",email:"*Ingresa un correo v\xe1lido",number:"*Este campo solo permite numeros",integer:"*Este campo requiere un valor entero",url:"*Este campo requiere una URL de un sitio web v\xe1lida",tel:"*Este campo requiere un n\xfamero de tel\xe9fono v\xe1lido",maxlength:"*Este campo debe ser menor que ${1}",minlength:"*Este campo debe ser mayor que ${1}",min:"*El valor m\xednimo para este campo es ${1}",max:"*El valor m\xe1ximo para este campo es ${1}",pattern:"*Porfavor rellena con el formato requerido",equals:"*Los dos campos no coinciden",default:"*Por favor ingresa un valor correcto"}};function r(e){var r=arguments;return this.replace(/\${([^{}]*)}/g,function(e,t){return r[t]})}function t(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}var n={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},i="pristine-error",s=["required","min","max","minlength","maxlength","pattern"],o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,u="en",l={},c=function e(r,t){t.name=r,void 0===t.priority&&(t.priority=1),l[r]=t};function f(t,o,c){var f,p,m,d=this;function v(e,r,t,n){var i=l[t];if(i&&(e.push(i),n)){var s="pattern"===t?[n]:n.split(",");s.unshift(null),r[t]=s}}function g(t){for(var n=[],i=!0,s=0;t.validators[s];s++){var o=t.validators[s],a=t.params[o.name]?t.params[o.name]:[];if(a[0]=t.input.value,!o.fn.apply(t.input,a)&&(i=!1,"function"==typeof o.msg?n.push(o.msg(t.input.value,a)):"string"==typeof o.msg?n.push(r.apply(o.msg,a)):o.msg===Object(o.msg)&&o.msg[u]?n.push(r.apply(o.msg[u],a)):t.messages[u]&&t.messages[u][o.name]?n.push(r.apply(t.messages[u][o.name],a)):e[u]&&e[u][o.name]?n.push(r.apply(e[u][o.name],a)):n.push(r.apply(e[u].default,a)),!0===o.halt))break}return t.errors=n,i}function h(e){if(e.errorElements)return e.errorElements;var r=function e(r,t){for(;(r=r.parentElement)&&!r.classList.contains(t););return r}(e.input,d.config.classTo),t=null,n=null;return(t=d.config.classTo===d.config.errorTextParent?r:r.querySelector("."+d.config.errorTextParent))&&!(n=t.querySelector("."+i))&&((n=document.createElement(d.config.errorTextTag)).className=i+" "+d.config.errorTextClass,t.appendChild(n),n.pristineDisplay=n.style.display),e.errorElements=[r,n]}function y(e){var r=h(e),t=r[0],n=r[1],i=e.input,s="error-"+(i.id||Math.floor(new Date().valueOf()*Math.random()));t&&(t.classList.remove(d.config.successClass),t.classList.add(d.config.errorClass),i.setAttribute("aria-describedby",s),i.setAttribute("aria-invalid","true")),n&&(n.setAttribute("id",s),n.setAttribute("role","alert"),n.innerHTML=e.errors.join("<br/>"),n.style.display=n.pristineDisplay||"")}function b(e){var r,t,n,i,s,o=(r=e,n=(t=h(r))[0],i=t[1],s=r.input,n&&(n.classList.remove(d.config.errorClass),n.classList.remove(d.config.successClass),s.removeAttribute("aria-describedby"),s.removeAttribute("aria-invalid")),i&&(i.removeAttribute("id"),i.removeAttribute("role"),i.innerHTML="",i.style.display="none"),t)[0];o&&o.classList.add(d.config.successClass)}return f=t,p=o,m=c,f.setAttribute("novalidate","true"),d.form=f,d.config=function e(r,t){for(var n in t)n in r||(r[n]=t[n]);return r}(p||{},n),d.live=!1!==m,d.fields=Array.from(f.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map((function(e){var r=[],t={},n={};return[].forEach.call(e.attributes,function(e){if(/^data-pristine-/.test(e.name)){var i=e.name.substr(14),o=i.match(a);if(null!==o){var u=void 0===o[1]?"en":o[1];n.hasOwnProperty(u)||(n[u]={}),n[u][i.slice(0,i.length-o[0].length)]=e.value;return}"type"===i&&(i=e.value),v(r,t,i,e.value)}else~s.indexOf(e.name)?v(r,t,e.name,e.value):"type"===e.name&&v(r,t,e.value)}),r.sort(function(e,r){return r.priority-e.priority}),d.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",(function(e){d.validate(e.target)}).bind(d)),e.pristine={input:e,validators:r,params:t,messages:n,self:d}}).bind(d)),d.validate=function(e,r){r=e&&!0===r||!0===e;var t=d.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?t=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(t=Array.from(e).map(function(e){return e.pristine})));for(var n=!0,i=0;t[i];i++){var s=t[i];g(s)?r||b(s):(n=!1,r||y(s))}return n},d.getErrors=function(e){if(!e){for(var r=[],t=0;t<d.fields.length;t++){var n=d.fields[t];n.errors.length&&r.push({input:n.input,errors:n.errors})}return r}return e.tagName&&"select"===e.tagName.toLowerCase()?e.pristine.errors:e.length?e[0].pristine.errors:e.pristine.errors},d.addValidator=function(e,r,t,n,i){e instanceof HTMLElement?(e.pristine.validators.push({fn:r,msg:t,priority:n,halt:i}),e.pristine.validators.sort(function(e,r){return r.priority-e.priority})):console.warn("The parameter elem must be a dom element")},d.addError=function(e,r){(e=e.length?e[0]:e).pristine.errors.push(r),y(e.pristine)},d.reset=function(){for(var e=0;d.fields[e];e++)d.fields[e].errorElements=null;Array.from(d.form.querySelectorAll("."+i)).map(function(e){e.parentNode.removeChild(e)}),Array.from(d.form.querySelectorAll("."+d.config.classTo)).map(function(e){e.classList.remove(d.config.successClass),e.classList.remove(d.config.errorClass)})},d.destroy=function(){d.reset(),d.fields.forEach(function(e){delete e.input.pristine}),d.fields=[]},d.setGlobalConfig=function(e){n=e},d}return c("text",{fn:function e(r){return!0},priority:0}),c("required",{fn:function e(r){return"radio"===this.type||"checkbox"===this.type?t(this):void 0!==r&&""!==r.trim()},priority:99,halt:!0}),c("email",{fn:function e(r){return!r||o.test(r)}}),c("number",{fn:function e(r){return!r||!isNaN(parseFloat(r))},priority:2}),c("integer",{fn:function e(r){return!r||/^\d+$/.test(r)}}),c("minlength",{fn:function e(r,t){return!r||r.length>=parseInt(t)}}),c("maxlength",{fn:function e(r,t){return!r||r.length<=parseInt(t)}}),c("min",{fn:function e(r,n){return!r||("checkbox"===this.type?t(this)>=parseInt(n):parseFloat(r)>=parseFloat(n))}}),c("max",{fn:function e(r,n){return!r||("checkbox"===this.type?t(this)<=parseInt(n):parseFloat(r)<=parseFloat(n))}}),c("pattern",{fn:function e(r,t){var n=t.match(RegExp("^/(.*?)/([gimy]*)$"));return!r||RegExp(n[1],n[2]).test(r)}}),c("equals",{fn:function e(r,t){var n=document.querySelector(t);return n&&(!r&&!n.value||n.value===r)}}),f.addValidator=function(e,r,t,n,i){c(e,{fn:r,msg:t,priority:n,halt:i})},f.addMessages=function(r,t){var n=e.hasOwnProperty(r)?e[r]:e[r]={};Object.keys(t).forEach(function(e,r){n[e]=t[e]})},f.setLocale=function(e){u=e},f});